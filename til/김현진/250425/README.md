# TIL

날짜 : 2025-04-25 (금)

 <br>

# 듀티메이트 사용자 분석 체계 수립 보고서

####  Google Analytics(GA4) 및 Google Tag Manager(GTM)를 활용한 코호트 분석 기반 사용자 분석 구조 설계

---

<br>

## 1. 코호트 분석(Cohort Analysis) 개요

### 1-1. 정의

코호트 분석이란, **공통된 특성을 가진 사용자 집단(코호트)**을 특정 시점을 기준으로 묶어, **시간의 흐름에 따른 행동 변화**를 추적하고 비교하는 분석 방법이다. 

주로 **가입일, 첫 로그인, 첫 결제일** 등의 기준을 활용하여 집단을 분류하고, 이후 일정 기간 동안의 활동 지속률(리텐션), 전환율 등의 변화를 확인한다.

<br>

### 1-2. 분석 목적 및 기대 효과

| 분석 목표 | 기대 효과 |
| --- | --- |
| 사용자 리텐션 분석 | 특정 시점 이후에도 서비스를 계속 사용하는 사용자 비율 파악 |
| 이탈 시점 분석 | 사용자 이탈이 집중되는 구간 파악 및 UX 개선 근거 확보 |
| 기능 도입 전후 비교 | 기능 출시 전/후 사용자 행동 비교를 통한 효과 검증 |
| 유입 채널 효과 분석 | 채널별 장기 이용률 비교를 통해 마케팅 효율 평가 |


<br><br>

## 2. Google Analytics(GA)와 Google Tag Manager(GTM)의 역할 비교

### 2-1. 개요

GA와 GTM은 모두 사용자 행동 분석을 위한 도구이지만, **기능과 목적, 적용 방식이 명확히 다르며 상호보완적인 역할**을 한다.

<br>

### 2-2. GA vs GTM 기능 비교표

| 항목 | **Google Analytics (GA4)** | **Google Tag Manager (GTM)** |
| --- | --- | --- |
| **역할** | 사용자 행동 데이터 **분석 및 리포트 제공** | 사용자 행동 이벤트를 **설정, 수집, 전송** |
| **기능** | 페이지뷰, 전환율, 세션 시간, 사용자 흐름, 코호트 리포트 등 | 클릭 이벤트, 스크롤, 비디오 재생 등 트리거 정의 및 GA에 이벤트 전송 |
| **설치 방법** | GA 스크립트를 직접 `<head>`에 삽입 | GTM 스크립트 2개를 `<head>`와 `<body>`에 삽입 |
| **분석 대상** | 수집된 이벤트 및 사용자 속성 | 어떤 이벤트를 GA로 보낼지를 설정 |
| **유연성** | 수집된 데이터 기반 분석만 가능 | 코드 수정 없이 이벤트 조건을 자유롭게 설정 가능 |
| **대시보드 제공 여부** | O (GA4 콘솔에서 시각화) | X (데이터 시각화는 GA에서 진행) |
| **개발자 개입 여부** | 커스텀 이벤트 태깅 시 개발 필요 | 한 번 설치 후에는 마케터/기획자도 설정 가능 |
| **활용 예시** | 페이지 방문자 수, 전환율, 코호트 리포트 | 결제 버튼 클릭, 특정 페이지 진입 시 이벤트 발송 |



<br><br>


## 3. 듀티메이트에 GA + GTM을 적용해야 하는 이유

- 기본적인 사용자 흐름(페이지 뷰, 체류 시간)은 GA로 충분히 분석 가능
- 그러나 **결제 버튼 클릭**, **근무표 생성 버튼 클릭** 등 특정 행동은 GA만으로는 수집이 불가
- GTM을 활용하여 클릭, 스크롤 등의 행동을 **코드 수정 없이 트래킹** 가능
- 두 도구를 함께 사용하면 **정량적 사용자 흐름 + 구체적인 행동 전환 데이터**를 종합 분석 가능

<br><br>

## 4. 분석 목표 및 항목 정리

| 분석 항목 | 분석 도구 | 목적 |
| --- | --- | --- |
| 전체 페이지별 방문 수 | GA | 각 기능의 진입률 확인 |
| 페이지 이동 경로 | GA | 사용자 흐름 파악 및 UX 개선 |
| 페이지별 평균 체류 시간 | GA | 사용자 관심도 분석 |
| 근무표 생성 버튼 클릭 수 | GTM + GA | 주요 기능 사용률 추적 |
| 결제 버튼 클릭 수 | GTM + GA | 전환 행동 추적 |
| 가입일 기준 리텐션 분석 | GA 코호트 리포트 | 초기 유입 후 사용자 유지 여부 분석 |
| 유입 채널별 사용자 품질 | GA + UTM 파라미터 | 마케팅 성과 측정 |


<br><br>

## 5. GA + GTM 도입 및 적용 절차

#### 1단계. GA4 속성 생성

- [Google Analytics](https://analytics.google.com/) 접속 후 새 속성 생성
- 측정 ID(G-XXXXXXXXXX) 확인

#### 2단계. GTM 컨테이너 생성 및 삽입

- [Google Tag Manager](https://tagmanager.google.com/)에서 웹 컨테이너 생성
- 제공되는 GTM 스크립트 2개를 사이트에 삽입

#### 3단계. GTM에서 GA4 설정 태그 생성

- 태그 유형: **GA4 설정 태그**
- 측정 ID 입력
- 트리거: 모든 페이지

#### 4단계. GTM 클릭 이벤트 설정

- 예: `.payment-button` 클릭 시
    - 트리거 유형: 클릭 > 특정 클래스 포함
    - 이벤트 이름: `click_payment_button`
    - 태그 유형: GA4 이벤트 태그
    - 추가 파라미터: { plan: 'premium', page: 'pricing' }

#### 5단계. 실시간 테스트 및 게시

- GTM 미리보기 → 클릭 시 이벤트 발생 여부 확인
- GA4 실시간 리포트에서 이벤트 수신 여부 확인
- 이상 없으면 GTM에서 게시(Publish)

<br><br>

## 6. 향후 확장 가능성

- **Amplitude 병행 도입**: GA보다 더 강력한 퍼널 및 세그먼트 분석을 위해 고려
- **BigQuery 연동**: GA4 이벤트 로그를 BigQuery로 내보내 SQL 기반의 자유로운 코호트 분석
- **Looker Studio 대시보드 구축**: 실시간 리포트 공유용 커스텀 시각화 대시보드

<br><br>

## 7. 결론

듀티메이트의 서비스 이용 분석을 위해서는 **Google Analytics(GA4)와 Google Tag Manager(GTM)의 통합** 도입이 필수적이다.

GA는 사용자 수, 페이지 뷰, 체류 시간 등의 분석을 담당하고, GTM은 코드 수정 없이 클릭 등 세부 이벤트를 정의하여 GA로 전송하는 역할을 수행한다.

이를 통해 사용자 행동 데이터를 정교하게 수집·분석할 수 있으며, 코호트 분석 기반의 사용자 흐름 개선, 전환율 최적화, 기능 도입 효과 검증 등이 가능해진다.

<br><br>

## 8. 참고 레퍼런스 링크 

[구글태그매니저(GTM) 클릭 이벤트(event) 설정](https://finedata.tistory.com/15)

[구글태그매니저(GTM) 사용법 : 구글 태그 매니저 시작하기](https://finedata.tistory.com/44)

