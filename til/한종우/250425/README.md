# Today I Learned

> 2025년 04월 25일

듀티메이트 v2.0.0에서 서비스 맛보기 기능이 추가되었다.
데모 계정을 만들어 로그인하지 않고도 서비스를 체험할 수 있게 한 것이다.

팀에서는 데모 계정에 대해 일정 시간이 지난 후에 자동으로 계정 삭제 처리하는 기능을 추가하기로 했다.
이 기능은 사용자가 데모 계정으로 로그인한 후 일정 시간이 지나면 자동으로 계정이 삭제되도록 하는 것이다.

배치 처리로 구현한다면 여러 대로 스케일 아웃된 서버가 있을 때, 각 서버에서 배치가 실행되면 중복으로 계정 삭제가 발생할 수 있다.
따라서 api를 통해서만 계정 삭제가 가능하도록 구현하기로 했다.

처음 생각한 것은 GitHub Actions를 이용한 Cronjob이었다.
하지만 GitHub Actions는 서버의 위치가 한국이 아니어서 WAF에서 차단될 수도 있다.

그래서 AWS 한국 리전에 EC2 인스턴스를 하나 두어 Cronjob을 돌리기로 했다.
현재로서는 정상적으로 동작하나, 추후에 문제가 발생할 가능성이 있다고 생각한다.

조금 더 좋은 방법을 찾아봐야겠다.
