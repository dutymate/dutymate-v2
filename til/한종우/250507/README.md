# Today I Learned

> 2025년 05월 07일

## 오늘의 장애 부검

금일 장애는 2025년 05월 07일 19시 00분부터 20시 30분까지 발생하였으며, 장애 원인은 다음과 같습니다.

v2.2.0에서 적용된 공휴일 기능을 위해 서버 부팅 시 OpenAPI로 HTTP 요청을 보냅니다.
이때, OpenAPI 서버가 응답하지 않거나 응답이 지연되는 경우, 서버 부팅이 완료되지 않아 서비스가 중단됩니다.

현재 ECS 클러스터의 egress는 HTTP와 SMTP를 사용하고 있으며, OpenAPI 서버는 HTTP로만 통신합니다.
따라서, OpenAPI 서버가 응답하지 않거나 응답이 지연되는 경우, HTTP 요청을 보내는 ECS 클러스터의 egress가 차단되어 서비스가 중단됩니다.

이 문제를 해결하기 위해, Security Group을 수정하여 HTTP 요청을 보내는 ECS 클러스터의 egress를 차단하지 않도록 설정하였습니다.
